<br />
<h3> ---- Subscribe to TAKEOFF</h3>

<ng-container *ngIf="paying">
    <div id="preloader"></div>
    Please Wait...Processing....
</ng-container>
<ng-container *ngIf="!paying">


    <ng-container
        *ngIf="!(this.executiveId == null || this.executiveId == undefined || this.executiveId.trim() === '' || this.executiveId.trim().length == 0)">
        <div nz-row>
            <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="6" style='text-align: left'><b>Executive ID</b></div>
            <div nz-col nzSpan="14" style='text-align: left'><b>{{executiveId}}</b></div>
        </div>

        <div nz-row>
            <div nz-col nzSpan="12" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="12" style='text-align: left'> &nbsp;</div>
        </div>
    </ng-container>



    <!-- <div nz-row>
        <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
        <div nz-col nzSpan="6" style='text-align: left'>Referer ID</div>
        <div nz-col nzSpan="14" style='text-align: left'>
            <ng-container *ngIf="refererStatus.length > 0 && refererid.length > 0">
                <i nz-icon [nzType]="refererStatus" nzTheme="outline"></i> &nbsp;&nbsp;
            </ng-container>
            <input type="text" [disabled]="refererIdStatus" nz-input [(ngModel)]="refererid" placeholder="Enter Referer ID" style='width:80%'
              (ngModelChange)="refererStatus=''"   />
            <br /><button nz-button nzType="text" (click)='noReferralCode()'><u>No Referral Code?</u></button>
        </div>

    </div>

    <div nz-row>
        <div nz-col nzSpan="12" style='text-align: left'>&nbsp;</div>
        <div nz-col nzSpan="12" style='text-align: left'> &nbsp;</div>
    </div>

    <div nz-col nzSpan="24" style='text-align: center'>
        <button *ngIf='!refererIdStatus' nz-button nzType="primary" nzShape="round" [nzLoading]='loading' nzDanger
        (click)="checkRefererId()" [disabled]="refererStatus=='loading'"> Fetch </button>
        <button *ngIf='refererIdStatus' nz-button nzType="primary" nzShape="round" [nzLoading]='loading' nzDanger
        (click)="refererIdStatus=false" > Cancel </button>
    </div> -->


    <ng-container *ngIf="refererIdStatus">
        <div nz-row>
            <div nz-col nzSpan="12" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="12" style='text-align: left'> &nbsp;</div>
        </div>

        <div nz-row>
            <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="6" style='text-align: left'>Name</div>
            <div nz-col nzSpan="14" style='text-align: left'>
                <ng-container *ngIf="name.trim().length > 0">
                    <i nz-icon [nzType]="name.trim().length> 5 ? 'check' : 'close'" nzTheme="outline"></i> &nbsp;&nbsp;
                </ng-container>
                <input type="text" [disabled]="!refererIdStatus" [(ngModel)]="name" nz-input
                    placeholder="Enter Full Name" style='width:80%' />
            </div>
        </div>

        <div nz-row>
            <div nz-col nzSpan="12" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="12" style='text-align: left'> &nbsp;</div>
        </div>

        <div nz-row *ngIf="subscription!='Free1' && false">
            <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="6" style='text-align: left'>Enter Password (Min 9 Characters) </div>
            <div nz-col nzSpan="14" style='text-align: left'>
                <ng-container *ngIf="password.trim().length > 0">
                    <i nz-icon [nzType]="password.trim().length> 8 ?'check' : 'close'" nzTheme="outline"></i>
                    &nbsp;&nbsp;
                </ng-container>
                <nz-input-group [nzSuffix]="suffixTemplate" style='width:80%'>
                    <input [type]="passwordVisible ? 'text' : 'password'" [disabled]="!refererIdStatus" [(ngModel)]="password" nz-input
                        placeholder="Enter Password (Min 8 Characters)" />
                </nz-input-group>
                <ng-template #suffixTemplate>
                    <i nz-icon [nzType]="passwordVisible ? 'eye' : 'eye-invisible'"
                        (click)="passwordVisible = !passwordVisible"></i>
                </ng-template>

                <!-- <nz-input-group [nzSuffix]="suffixTemplate" style='width:60%'>
                        <input [type]="passwordVisible ? 'text' : 'password'" nz-input placeholder="Enter Password"
                            [(ngModel)]="password" />
                    </nz-input-group>
                    <ng-template #suffixTemplate>
                        <i nz-icon [nzType]="passwordVisible ? 'eye' : 'eye-invisible'"
                            (click)="passwordVisible = !passwordVisible"></i>
                    </ng-template> -->

            </div>
        </div>

        <div nz-row *ngIf="subscription!='Free1' && false">
            <div nz-col nzSpan="12" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="12" style='text-align: left'> &nbsp;</div>
        </div>

        <div nz-row *ngIf="subscription!='Free1' && false">
            <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="6" style='text-align: left'>Confirm Password </div>
            <div nz-col nzSpan="14" style='text-align: left'>
                <ng-container *ngIf="conpassword.trim().length > 0">
                    <i nz-icon [nzType]="conpassword==password ?'check' : 'close'" nzTheme="outline"></i> &nbsp;&nbsp;
                </ng-container>
                
                <input [type]="passwordVisible ? 'text' : 'password'" [disabled]="!refererIdStatus" [(ngModel)]="conpassword" nz-input
                    placeholder="Confirm Password" style='width:80%' />
            </div>
        </div>

        <div nz-row *ngIf="subscription!='Free1' && false">
            <div nz-col nzSpan="12" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="12" style='text-align: left'> &nbsp;</div>
        </div>

        <div nz-row>
            <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="6" style='text-align: left'>Mobile</div>
            <div nz-col nzSpan="14" style='text-align: left'>
                <ng-container *ngIf="contact.trim().length > 0">
                    <i nz-icon [nzType]="check(contact.trim()) && contact.trim().length == 10 ?'check' : 'close'"
                        nzTheme="outline"></i> &nbsp;&nbsp;
                </ng-container>
                <input type="text" [disabled]="!refererIdStatus" [(ngModel)]="contact" nz-input
                    placeholder="Enter Mobile Number" style='width:80%' />
            </div>
        </div>

        <div nz-row>
            <div nz-col nzSpan="12" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="12" style='text-align: left'> &nbsp;</div>
        </div>

        <div nz-row>
            <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="6" style='text-align: left'>Email</div>
            <div nz-col nzSpan="14" style='text-align: left'>
                <ng-container *ngIf="email.trim().length > 0">
                    <i nz-icon
                        [nzType]="email.trim().indexOf('@')==-1 || email.trim().indexOf('@') != email.trim().lastIndexOf('@') || email.trim().lastIndexOf('@') > email.trim().lastIndexOf('.')  || email.trim().endsWith('.') || email.trim().startsWith('@')  || email.trim().endsWith('@') || email.trim().startsWith('.') || email.trim().indexOf('.')==-1 ?'close' : 'check'"
                        nzTheme="outline"></i> &nbsp;&nbsp;
                </ng-container>
                <input type="text" [disabled]="!refererIdStatus" [(ngModel)]="email" nz-input
                    placeholder="Enter Email Address" style='width:80%' />
            </div>
        </div>
        <div nz-row>
            <div nz-col nzSpan="12" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="12" style='text-align: left'> &nbsp;</div>
        </div>

        <div nz-row>
            <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="6" style='text-align: left'> Profession</div>
            <div nz-col nzSpan="14" style='text-align: left'>

                <ng-container *ngIf="profession.trim().length > 0">
                    <i nz-icon [nzType]="profession.trim().length > 0 ?'check' : 'close'" nzTheme="outline"></i>
                    &nbsp;&nbsp;
                </ng-container>

                <nz-select [(ngModel)]="profession" [nzDisabled]="!refererIdStatus" nzPlaceHolder="Select Profession"
                    style='width:80%'>

                    <nz-option nzValue="Student" nzLabel="Student"></nz-option>
                    <nz-option nzValue="Businessman" nzLabel="Business"></nz-option>
                    <nz-option nzValue="Self Employed" nzLabel="Self Employed"></nz-option>
                    <nz-option nzValue="HouseWife" nzLabel="HouseWife"></nz-option>
                    <nz-option nzValue="Employee" nzLabel="Employee"></nz-option>
                    <nz-option nzValue="Others" nzLabel="Others"></nz-option>

                </nz-select>
            </div>
        </div>
        <div nz-row>
            <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="6" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="14" style='text-align: left'> &nbsp;</div>
        </div>

        <div nz-row>
            <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="6" style='text-align: left'>Gender</div>
            <div nz-col nzSpan="14" style='text-align: left'>
                <ng-container *ngIf="gender.trim().length > 0">
                    <i nz-icon [nzType]="gender.trim().length > 0 ?'check' : 'close'" nzTheme="outline"></i>
                    &nbsp;&nbsp;
                </ng-container>

                <nz-select [(ngModel)]="gender" [nzDisabled]="!refererIdStatus" nzPlaceHolder="Select Gender"
                    style='width:80%'>
                    <nz-option nzValue="Male" nzLabel="Male"></nz-option>
                    <nz-option nzValue="Female" nzLabel="Female"></nz-option>
                    <nz-option nzValue="Others" nzLabel="Others"></nz-option>
                </nz-select>
            </div>
        </div>
        <div nz-row>
            <div nz-col nzSpan="12" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="12" style='text-align: left'> &nbsp;</div>
        </div>
        <div nz-row>
            <div nz-col nzSpan="4" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="6" style='text-align: left'>Your City</div>
            <div nz-col nzSpan="14" style='text-align: left'>

                <ng-container *ngIf="city.trim().length > 0">
                    <i nz-icon [nzType]="city.trim().length > 0 ?'check' : 'close'" nzTheme="outline"></i> &nbsp;&nbsp;
                </ng-container>

                <nz-select [(ngModel)]="city" [nzDisabled]="!refererIdStatus" nzPlaceHolder="Select City"
                    style='width:80%'>
                    <nz-option nzValue="Tirupati" nzLabel="Tirupati"></nz-option>
                    <!--                     <nz-option nzValue="Chittoor" nzLabel="Chittoor"></nz-option>
                    <nz-option nzValue="Ananthapur" nzLabel="Ananthapur"></nz-option>
                    <nz-option nzValue="Guntur" nzLabel="Guntur"></nz-option>
                    <nz-option nzValue="Kadapa" nzLabel="Kadapa"></nz-option>
                    <nz-option nzValue="Kakinada" nzLabel="Kakinada"></nz-option>
                    <nz-option nzValue="Kurnool" nzLabel="Kurnool"></nz-option>
                    <nz-option nzValue="Nellore" nzLabel="Nellore"></nz-option>
                    <nz-option nzValue="Guntur" nzLabel="Guntur"></nz-option>
                    <nz-option nzValue="Vijayawada" nzLabel="Vijayawada"></nz-option> -->
                    <nz-option nzValue="Ongole" nzLabel="Ongole"></nz-option>



                </nz-select>
            </div>
        </div>
        <div nz-row>
            <div nz-col nzSpan="12" style='text-align: left'>&nbsp;</div>
            <div nz-col nzSpan="12" style='text-align: left'> &nbsp;</div>
        </div>




        <div *ngIf="subscription === 'pay' || subscription === 'Pay'" nz-row>


            <ng-container *ngIf="">
                <div nz-col nzSpan="24" style='text-align: center'>
                    <span style="padding:4px">
                        By Clicking below Button, You agree to our Terms and that you have read our <a
                            href='/policy'>Privacy Policy.</a>
                    </span>
                </div>

                <div nz-col nzSpan="24" style='text-align: left'>&nbsp;</div>

            </ng-container>


            <div nz-col nzSpan="24" style='text-align: center'>
                <button nz-button nzType="primary" [disabled]="checkStatus()" nzDanger (click)='payment()'>Pay Rs. <s>1199</s> &nbsp; 999
                </button>
            </div>

        </div>
        <div *ngIf="subscription === 'free' || subscription === 'Free'" nz-row>


            <ng-container *ngIf="!checkStatus()">


                <div nz-col nzSpan="24" style='text-align: center'>
                    <span style="padding:4px">
                        By Clicking below Button, You agree to our Terms and that you have read <a
                            href='/policy'>Privacy Policy.</a>
                    </span>
                </div>

                <div nz-col nzSpan="24" style='text-align: left'>&nbsp;</div>

            </ng-container>



            <div nz-col nzSpan="24" style='text-align: center'>
                <button nz-button nzType="primary" [disabled]="!refererIdStatus || 	
                !(name.trim().length> 5) || 	
                !(password.trim().length> 8) || 
                !(conpassword==password) || 	
                !(contact.trim().length == 10) || 	
                !check(contact.trim()) || 	
                (email.trim().indexOf('@')==-1 || email.trim().indexOf('@') != email.trim().lastIndexOf('@') || email.trim().lastIndexOf('@') > email.trim().lastIndexOf('.')  || email.trim().endsWith('.') || email.trim().startsWith('@')  || email.trim().endsWith('@') || email.trim().startsWith('.') || email.trim().indexOf('.')==-1) ||	
                !(profession.trim().length > 0) ||	
                !(gender.trim().length > 0) || 	
                !(city.trim().length > 0) || this.paying" nzDanger (click)='freeSubscription()'>Free Subscription
                </button>
            </div>

        </div>

    </ng-container>
</ng-container>
<br /><br />

<nz-modal [nzVisible]="noReferralCodeVisible " [nzContent]="modalContent" [nzFooter]="null"
    (nzOnCancel)="noReferralCodeVisible = false;">
    <ng-template #modalContent>

        <ng-container *ngIf='confirmContacts'>
            <div nz-row>
                <div nz-col nzSpan="24" style='text-align: center'>
                    <h2>Thank You for Sharing</h2>
                    <h3>Sharing is Caring</h3>
                    Use Referral Code : <h5>{{ refererid }}</h5>
                </div>
            </div>
        </ng-container>


        <ng-container *ngIf='!confirmContacts'>

            <h3> We are happy to Assist you..</h3>
            <h5>Provide Yours (or) Your Friends Details <br /> and Get Referral Code </h5>

            <nz-table #basicTable nzShowPagination=false nzBordered [nzData]="['']">
                <thead>
                    <tr>

                        <th>#</th>
                        <th>Name</th>
                        <th>Contact Number</th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <td>1</td>
                        <td> <input type="text" nz-input placeholder="Name" style='width:100%' [(ngModel)]='name1' />
                        </td>
                        <td><input type="text" nz-input placeholder="Contact" style='width:100%' [(ngModel)]='contact1'
                                maxlength="10" /></td>
                    </tr>

                    <!--                     <tr>
                        <td>2</td>
                        <td> <input type="text" nz-input placeholder="Friend1" style='width:100%' [(ngModel)]='name2' />
                        </td>
                        <td><input type="text" nz-input placeholder="Contact1" style='width:100%' [(ngModel)]='contact2'
                                maxlength="10" /></td>
                    </tr>

                    <tr>
                        <td>3</td>
                        <td><input type="text" nz-input placeholder="Friend2" style='width:100%' [(ngModel)]='name3' />
                        </td>
                        <td><input type="text" nz-input placeholder="Contact2" style='width:100%' [(ngModel)]='contact3'
                                maxlength="10" /></td>
                    </tr> -->
                </tbody>
            </nz-table>

            <div nz-row> &nbsp; </div>
            <div nz-row>
                <div nz-col nzSpan="12" style='text-align: left'>
                    <button nz-button nzShape="round" (click)='noReferralCodeVisible=false;' [nzLoading]='loading'>
                        Cancel</button>
                </div>
                <div nz-col nzSpan="12" style='text-align: right'>
                    <button nz-button nzType="primary" nzShape="round" [nzLoading]='loading' nzDanger
                        (click)='getContacts()'> Get Referral Code </button>
                </div>
            </div>
        </ng-container>
    </ng-template>
</nz-modal>