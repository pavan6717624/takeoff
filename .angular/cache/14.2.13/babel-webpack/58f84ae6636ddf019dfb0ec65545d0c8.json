{"ast":null,"code":"import _classCallCheck from \"G:/takeoff/takeoff/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"G:/takeoff/takeoff/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { LoginStatus } from '../login/login.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/user/user.service\";\nimport * as i2 from \"../login/login.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./display.service\";\nimport * as i5 from \"ng-zorro-antd/message\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i8 from \"ng-zorro-antd/grid\";\nimport * as i9 from \"ng-zorro-antd/icon\";\nimport * as i10 from \"ng-zorro-antd/spin\";\nfunction DisplayComponent_ng_container_5_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 8);\n    i0.ɵɵelement(1, \"i\", 9)(2, \"br\");\n    i0.ɵɵelementStart(3, \"b\");\n    i0.ɵɵtext(4, \"Fetching Details...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DisplayComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"br\")(2, \"br\");\n    i0.ɵɵtemplate(3, DisplayComponent_ng_container_5_ng_template_3_Template, 5, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelement(5, \"nz-spin\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    var _r1 = i0.ɵɵreference(4);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"nzIndicator\", _r1)(\"nzSize\", \"large\");\n  }\n}\nexport var DisplayComponent = /*#__PURE__*/function () {\n  function DisplayComponent(userService, loginService, router, route, displayService, msg) {\n    _classCallCheck(this, DisplayComponent);\n    var _a, _b;\n    this.userService = userService;\n    this.loginService = loginService;\n    this.router = router;\n    this.route = route;\n    this.displayService = displayService;\n    this.msg = msg;\n    this.loginStatus = new LoginStatus();\n    this.type = \"0\";\n    this.status = false;\n    var navigation = this.router.getCurrentNavigation();\n    this.loginStatus = (_b = (_a = navigation === null || navigation === void 0 ? void 0 : navigation.extras) === null || _a === void 0 ? void 0 : _a.state) === null || _b === void 0 ? void 0 : _b.loginStatus;\n    this.getLoginDetails();\n  }\n  return _createClass(DisplayComponent, [{\n    key: \"getLoginDetails\",\n    value: function getLoginDetails() {\n      var _this = this;\n      var loginButton = window.document.getElementById(\"loginButton\");\n      if (loginButton) {\n        loginButton.innerHTML = \"Logout\";\n        loginButton.setAttribute('href', '/login');\n        loginButton.setAttribute('onClick', \"localStorage.removeItem('token')\");\n      }\n      var couponsheader = window.document.getElementById(\"displayHeader\");\n      if (couponsheader) {\n        couponsheader.innerHTML = 'TakeOff Structure';\n      }\n      this.status = true;\n      this.loginService.getLoginDetails().subscribe(function (res) {\n        _this.status = false;\n        _this.loginStatus = res;\n        _this.onViewChange();\n      }, function (err) {\n        _this.status = false;\n        _this.msg.create('error', 'Session Expired. Please Login...');\n        _this.router.navigate(['login']);\n      });\n    }\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.onViewChange();\n    }\n  }, {\n    key: \"onViewChange\",\n    value: function onViewChange() {\n      var _this2 = this;\n      this.status = true;\n      this.displayService.getTreeStructure().subscribe(function (res) {\n        _this2.type = res.type + \"\";\n        _this2.structure = res.structure;\n        console.log(_this2.structure);\n        _this2.status = false;\n      }, function (err) {\n        console.log(err);\n        _this2.msg.create(\"error\", \"Error Occured at Sever...\");\n        _this2.status = false;\n      });\n    }\n  }]);\n}();\nDisplayComponent.ɵfac = function DisplayComponent_Factory(t) {\n  return new (t || DisplayComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.LoginService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.DisplayService), i0.ɵɵdirectiveInject(i5.NzMessageService));\n};\nDisplayComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DisplayComponent,\n  selectors: [[\"app-display\"]],\n  decls: 11,\n  vars: 2,\n  consts: [[2, \"padding\", \"15px\", \"overflow\", \"auto\", \"width\", \"100%\", \"height\", \"90%\"], [\"nz-row\", \"\"], [\"nz-col\", \"\", \"nzSpan\", \"24\", 2, \"text-align\", \"center\"], [4, \"ngIf\"], [2, \"overflow\", \"auto\"], [1, \"tf-tree\", \"example\", 2, \"text-align\", \"center\", 3, \"innerHTML\"], [\"indicatorTemplate\", \"\"], [\"nzSimple\", \"\", 3, \"nzIndicator\", \"nzSize\"], [2, \"color\", \"#fd6951\"], [\"nz-icon\", \"\", \"nzType\", \"loading\", 2, \"font-size\", \"30px\"]],\n  template: function DisplayComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n      i0.ɵɵtext(2, \" ----- Your TAKEOFF Structure\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2);\n      i0.ɵɵtemplate(5, DisplayComponent_ng_container_5_Template, 6, 2, \"ng-container\", 3);\n      i0.ɵɵtext(6, \" \\xA0 \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 1)(9, \"div\", 2);\n      i0.ɵɵelement(10, \"div\", 5);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.status);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"innerHTML\", ctx.structure, i0.ɵɵsanitizeHtml);\n    }\n  },\n  dependencies: [i6.NgIf, i7.ɵNzTransitionPatchDirective, i8.NzColDirective, i8.NzRowDirective, i9.NzIconDirective, i10.NzSpinComponent],\n  styles: [\"@import 'https://unpkg.com/treeflex/dist/css/treeflex.css';\\n\\n.tf-tree[_ngcontent-%COMP%]{font-size:12px;}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BsYXkuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwwREFBMEQ7O0FBRTFELFNBQVMsY0FBYyxDQUFDIiwiZmlsZSI6ImRpc3BsYXkuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJ2h0dHBzOi8vdW5wa2cuY29tL3RyZWVmbGV4L2Rpc3QvY3NzL3RyZWVmbGV4LmNzcyc7XG5cbi50Zi10cmVle2ZvbnQtc2l6ZToxMnB4O31cbiJdfQ== */\"]\n});","map":{"version":3,"names":["LoginStatus","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerStart","ɵɵtemplate","DisplayComponent_ng_container_5_ng_template_3_Template","ɵɵtemplateRefExtractor","ɵɵelementContainerEnd","ɵɵadvance","ɵɵproperty","_r1","DisplayComponent","userService","loginService","router","route","displayService","msg","_classCallCheck","loginStatus","type","status","navigation","getCurrentNavigation","_b","_a","extras","state","getLoginDetails","_createClass","key","value","_this","loginButton","window","document","getElementById","innerHTML","setAttribute","couponsheader","subscribe","res","onViewChange","err","create","navigate","ngOnInit","_this2","getTreeStructure","structure","console","log","ɵɵdirectiveInject","i1","UserService","i2","LoginService","i3","Router","ActivatedRoute","i4","DisplayService","i5","NzMessageService","selectors","decls","vars","consts","template","DisplayComponent_Template","rf","ctx","DisplayComponent_ng_container_5_Template","ɵɵsanitizeHtml"],"sources":["G:\\takeoff\\takeoff\\src\\app\\component\\display\\display.component.ts","G:\\takeoff\\takeoff\\src\\app\\component\\display\\display.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DisplayService } from './display.service';\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzTreeNode } from 'ng-zorro-antd/tree';\nimport { UserService } from 'src/app/user/user.service';\nimport { LoginService } from '../login/login.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { LoginStatus } from '../login/login.component';\n\n@Component({\n  selector: 'app-display',\n  templateUrl: './display.component.html',\n  styleUrls: ['./display.component.css']\n})\nexport class DisplayComponent implements OnInit {\n\n\n  loginStatus: LoginStatus = new LoginStatus();\n\n  constructor( private userService: UserService,private loginService: LoginService, private router: Router, private route: ActivatedRoute,private displayService: DisplayService, private msg: NzMessageService) {\n\n\n    const navigation = this.router.getCurrentNavigation();\n    this.loginStatus =  (navigation?.extras?.state?.loginStatus); \n\n    \n      this.getLoginDetails();\n      \n  \n\n   }\n\n   getLoginDetails()\n   {\n    var loginButton = window.document.getElementById(\"loginButton\")\n    \n    if(loginButton)\n    {\n      loginButton.innerHTML=\"Logout\";\n      loginButton.setAttribute('href','/login');\n      loginButton.setAttribute('onClick',\"localStorage.removeItem('token')\");\n    }\n\n    var couponsheader = window.document.getElementById(\"displayHeader\");\n\n    if (couponsheader) {\n      couponsheader.innerHTML = 'TakeOff Structure'\n    }\n    \n     this.status=true;\n     this.loginService.getLoginDetails().subscribe(\n       (res:any) => {\n        this.status=false;\n         this.loginStatus=res;\n \n         this.onViewChange();\n       },\n       (err) => { this.status=false; this.msg.create('error','Session Expired. Please Login...');\n       this.router.navigate(['login']);\n       }\n     );\n   }\n\n  type: string = \"0\";\n  structure: any;\n\n  status: boolean= false;\n\n  \n  \n  ngOnInit(): void {\n\n    this.onViewChange();\n\n\n\n  }\n\n  onViewChange() {\n    this.status=true;\n   \n    this.displayService.getTreeStructure().subscribe(\n      (res) => { this.type = res.type + \"\";  this.structure=res.structure;  console.log(this.structure); this.status=false; },\n      (err) => { console.log(err); this.msg.create(\"error\", \"Error Occured at Sever...\"); this.status=false;  }\n\n    );\n  }\n\n}\n","<div style='padding:15px;overflow:auto;width:100%; height:90%;'>\n    <h3> ----- Your TAKEOFF Structure</h3>\n\n    <div nz-row>\n        <div nz-col nzSpan=\"24\" style='text-align: center'>\n            <ng-container *ngIf='status'><br /><br />\n                <!-- <nz-spin nzSimple [nzSize]=\"'large'\"></nz-spin> -->\n\n\n                <ng-template #indicatorTemplate>\n                    <span style='color:#fd6951'>\n                        <i nz-icon style='font-size:30px ; ' nzType=\"loading\"></i>\n                        <br /> <b>Fetching Details...</b> </span></ng-template>\n                <nz-spin nzSimple [nzIndicator]=\"indicatorTemplate\" [nzSize]=\"'large'\"></nz-spin>\n\n            </ng-container>\n            &nbsp;\n\n        </div>\n\n\n    </div>\n    <div style='overflow:auto;'>\n    <div nz-row>\n        <div nz-col nzSpan=\"24\" style='text-align: center'>\n\n            <div style='text-align: center' class=\"tf-tree example\" [innerHTML]=\"structure\"></div>\n\n        </div>\n    </div>\n</div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}